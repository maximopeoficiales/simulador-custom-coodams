(this["webpackJsonpreact-simulator"]=this["webpackJsonpreact-simulator"]||[]).push([[0],{12:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n,l,i,s=a(1),o=a.n(s),c=a(6),r=a.n(c),d="http://192.168.238.240:3000",u="wp-json/simulador/v1/getOptions",m="settings-only",j=(a(12),a(2));!function(e){e.LIBRE_INVERSION="LIBRE_INVERSION",e.VIVIENDA="VIVIENDA",e.VEHICULO="VEHICULO",e.VEHICULO1="VEHICULO1",e.VEHICULO2="VEHICULO2",e.VEHICULO3="VEHICULO3"}(n||(n={})),function(e){e[e.LIBRE_INVERSION=1]="LIBRE_INVERSION",e[e.VIVIENDA=2]="VIVIENDA",e[e.VEHICULO=3]="VEHICULO"}(l||(l={})),function(e){e.DE_12_36_MESES="12 - 36 meses",e.DE_37_120_MESES="37 - 120 meses",e.MAS_120_MESES="M\xe1s de 120 meses"}(i||(i={}));var b=[{id:n.LIBRE_INVERSION,tasa:1.6,nombre:"Libre Invers\xedon (especial)",antiguedad:"",helpText:"",montoMax:5269451,plazos:[18,24]},{id:n.VIVIENDA,tasa:1.3,nombre:"Vivienda",antiguedad:"",helpText:"Antiguedad minima de 12 meses",montoMax:181705200,plazos:[84,96,108,120]},{id:n.VEHICULO,tasa:1.3,nombre:"Vehiculo",antiguedad:"12 - 36 meses",helpText:"",montoMax:45426300,plazos:[12,24,36,48,60],antiguedades:[i.DE_12_36_MESES,i.DE_37_120_MESES,i.MAS_120_MESES]}],v=function(){try{var e=document.getElementById(m);return e?parseInt(e.value):0}catch(t){return 0}},O=Object(s.createContext)({tasaData:{monto_max_libre_inversion:1,monto_max_vehiculo:1,monto_max_vivienda:1,sim_libre_inversion:!0,sim_vehiculo:!0,sim_vivienda:!0}}),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",a=e.toString().split(t);return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,t),a.join(",")},h=a(0),f=function(e){var t=e.data,a=t.montoSolicitado,n=t.plazo,l=t.tasa,i=Math.round(function(e,t,a){return e*a/(100*(1-Math.pow(1+a/100,-1*t)))}(a,n,l)),s=Math.round(function(e,t,a){return e*a/(100*(1-Math.pow(1+a/100,-1*t)))*t-e}(a,n,l));return Object(h.jsxs)("div",{"data-testid":"FormDetalle",className:"contenedor-detalle",children:[Object(h.jsxs)("div",{className:"contenededor-informacion-detalle",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[Object(h.jsx)("span",{children:Object(h.jsx)("b",{className:"simulador-color-valor",children:"Tasa de Interes"})}),Object(h.jsx)("span",{children:Object(h.jsxs)("b",{className:"simulador-color-valor",children:[l.toFixed(2)," %"]})})]}),Object(h.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[Object(h.jsx)("span",{children:Object(h.jsx)("b",{className:"simulador-color-valor",children:"Valor Cuota Mensual"})}),Object(h.jsx)("span",{children:Object(h.jsxs)("b",{className:"simulador-color-valor",children:["$",x(i,".")]})})]}),Object(h.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[Object(h.jsx)("span",{children:Object(h.jsx)("b",{className:"simulador-color-valor",children:"Valor Total Intereses"})}),Object(h.jsx)("span",{children:Object(h.jsxs)("b",{className:"simulador-color-valor",children:["$",x(s,".")]})})]})]}),Object(h.jsxs)("div",{className:"mt-4",children:[Object(h.jsx)("span",{children:Object(h.jsx)("b",{className:"simulador-color-valor",children:"Nota:"})}),Object(h.jsx)("p",{className:"my-0 text-muted simulador-texto-ayuda",children:"Si tienes la opci\xf3n de realizar abonos extras, consulta con un asesor y revisa tu proyecci\xf3n"})]})]})},N=(a(14),function(e){var t=e.data,a=e.visible,n=e.setVisible,l=a?"is-visible":"";return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"modal ".concat(l),"data-animation":"slideInOutLeft",children:Object(h.jsxs)("div",{className:"modal-dialog",children:[Object(h.jsxs)("header",{className:"modal-header simulador-modal-cabezera",children:[Object(h.jsx)("h3",{className:"my-0",children:Object(h.jsx)("b",{className:"simulador-modal-titulo-detalle",children:"Detalle del Prestamo"})}),Object(h.jsx)("button",{className:"close-modal simulador-ocultar-modal","aria-label":"close modal","data-close":!0,onClick:function(){n("")},children:"\u2715"})]}),Object(h.jsx)("section",{className:"modal-content",children:Object(h.jsx)(f,{data:t})})]})})})}),E=function(e){var t,a,l,o,c=Object(s.useContext)(O).tasaData,r=Object(s.useState)(n.LIBRE_INVERSION),d=Object(j.a)(r,2),u=d[0],m=d[1],x=Object(s.useState)(!1),E=Object(j.a)(x,2),p=E[0],I=E[1],_=Object(s.useState)(!1),S=Object(j.a)(_,2),g=S[0],V=S[1],C=Object(s.useState)(0),L=Object(j.a)(C,2),M=L[0],y=L[1],D=Object(s.useState)([]),A=Object(j.a)(D,2),R=A[0],w=A[1],F=Object(s.useState)(18),H=Object(j.a)(F,2),U=H[0],z=H[1],B=Object(s.useState)(!1),k=Object(j.a)(B,2),P=k[0],T=k[1],$=Object(s.useState)(""),J=Object(j.a)($,2),q=J[0],G=J[1],K=Object(s.useState)(0),Q=Object(j.a)(K,2),W=Q[0],X=Q[1],Y=Object(s.useState)({}),Z=Object(j.a)(Y,2),ee=Z[0],te=Z[1],ae=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(s.useState)(e),a=Object(j.a)(t,2),n=a[0],l=a[1];return{toggleActive:function(){l(!n)},setActive:l,active:n}}(),ne=ae.active,le=ae.setActive;Object(s.useEffect)((function(){var e=function(e,t){e=e.filter((function(e){return e.id===n.LIBRE_INVERSION&&(e.montoMax=t.monto_max_libre_inversion),e.id===n.VEHICULO&&(e.montoMax=t.monto_max_vehiculo),e.id===n.VIVIENDA&&(e.montoMax=t.monto_max_vivienda),e}));var a=v();if(0===a)t.sim_libre_inversion||(e=e.filter((function(e){return e.id!==n.LIBRE_INVERSION}))),t.sim_vehiculo||(e=e.filter((function(e){return e.id!==n.VEHICULO}))),t.sim_vivienda||(e=e.filter((function(e){return e.id!==n.VIVIENDA})));else{if(1===a)return e.filter((function(e){return e.id===n.LIBRE_INVERSION}));if(2===a)return e.filter((function(e){return e.id===n.VIVIENDA}));if(3===a)return e.filter((function(e){return e.id===n.VEHICULO}))}return e}(b,c);w(e),e[0].id===n.VEHICULO&&(T(!0),m(n.VEHICULO))}),[c]),Object(s.useEffect)((function(){var e,t,a=function(e,t){var a,n,l,i,s,o;return e[0].tasa=parseFloat(null!==(a=null===(n=t.tasa_libre_inversion)||void 0===n?void 0:n.toString())&&void 0!==a?a:"1.6"),e[1].tasa=parseFloat(null!==(l=null===(i=t.tasa_vivienda)||void 0===i?void 0:i.toString())&&void 0!==l?l:"1.3"),e[2].tasa=parseFloat(null!==(s=null===(o=t.tasa_vehiculo_1)||void 0===o?void 0:o.toString())&&void 0!==s?s:"1.3"),e}(b,c),n=a.find((function(e){return e.id===u}));X(parseFloat((null!==(e=null===n||void 0===n?void 0:n.tasa)&&void 0!==e?e:0).toString())),z(null!==(t=null===n||void 0===n?void 0:n.plazos[0])&&void 0!==t?t:0),te(null!==n&&void 0!==n?n:{})}),[u,c]);var ie=function(e,t){e<t?(y(e),le(!1)):(y(t),le(!0))};return Object(h.jsxs)("div",{className:"contenedor-simulador",children:[Object(h.jsxs)("div",{className:"simulador-formulario",children:[Object(h.jsx)("div",{className:"d-flex justify-content-end",children:Object(h.jsx)("span",{className:"alerta-monto-maximo",children:ne&&"Este el monto m\xe1ximo"})}),Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(h.jsx)("span",{children:Object(h.jsx)("b",{className:"simulador-titulo-formulario",children:"Monto Solicitado"})}),Object(h.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(h.jsx)("span",{className:"mx-2 simulador-simbolo-peso",children:"$"}),Object(h.jsx)("input",{onChange:function(e){var t,a=null!==(t=null===ee||void 0===ee?void 0:ee.montoMax)&&void 0!==t?t:1,n=parseFloat(e.target.value);ie(n,a)},type:"number",className:"w-100 text-right my-2 simulador-input simulador-caja-monto",min:"0",max:null!==(t=null===ee||void 0===ee?void 0:ee.montoMax)&&void 0!==t?t:1,value:M})]})]}),Object(h.jsxs)("div",{className:"contenedor-simulador-scroll",children:[Object(h.jsx)("input",{onChange:function(e){var t,a,n,l=null!==(t=null===ee||void 0===ee?void 0:ee.montoMax)&&void 0!==t?t:1,i=parseFloat(e.target.value),s=(a=i,n=1e4,Math.ceil(a/n)*n);ie(s,l)},type:"range",className:"w-100 range simulador-scroll-input  ",min:"0",max:null!==(a=null===ee||void 0===ee?void 0:ee.montoMax)&&void 0!==a?a:1,value:M}),Object(h.jsx)("small",{className:"text-muted simulador-texto-ayuda-form",children:"Desliza para elegir el monto deseado de su pr\xe9stamo"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"idSelectCredito",className:"d-flex my-2",children:Object(h.jsx)("b",{className:"simulador-titulo-formulario",children:"Cr\xe9dito"})}),Object(h.jsx)("select",{id:"idSelectCredito",className:"w-100 simulador-select",onChange:function(e){le(!1),y(0);var t=e.target.value;m(t),T(t===n.VEHICULO),V(!1)},value:u,children:R.map((function(e){return Object(h.jsx)("option",{value:e.id,children:e.nombre},e.id)}))})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"idSelectPlazo",className:"d-flex my-2",children:Object(h.jsx)("b",{className:"simulador-titulo-formulario",children:"Plazos / Cuotas"})}),Object(h.jsx)("select",{id:"idSelectPlazo",className:"w-100 simulador-select",onChange:function(e){z(parseInt(e.target.value)),V(!1)},value:U,children:null===ee||void 0===ee||null===(l=ee.plazos)||void 0===l?void 0:l.map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},e)}))})]}),P&&Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"idSelectAntiguedad",className:"d-flex my-2",children:Object(h.jsx)("b",{children:"Antiguedad"})}),Object(h.jsx)("select",{id:"idSelectAntiguedad",className:"w-100",onChange:function(e){var t=function(e,t){var a,n,l,s=0;switch(e){case i.DE_12_36_MESES:s=null!==(a=t.tasa_vehiculo_1)&&void 0!==a?a:1.3;break;case i.DE_37_120_MESES:s=null!==(n=t.tasa_vehiculo_2)&&void 0!==n?n:1.2;break;case i.MAS_120_MESES:s=null!==(l=t.tasa_vehiculo_3)&&void 0!==l?l:1.1}return s}(e.target.value,c);X(parseFloat(t.toString())),G(e.target.value),V(!1)},value:q,children:null===ee||void 0===ee||null===(o=ee.antiguedades)||void 0===o?void 0:o.map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},e)}))}),Object(h.jsx)("small",{className:"text-muted my-2 d-block simulador-text-muted",children:"Selecciona la Antiguedad como asociado de la cooperativa"})]}),Object(h.jsx)("button",{onClick:function(){0!==M&&(V(!0),I(!0))},className:"my-2 w-100 simulador-boton",children:"Calcular"})]}),Object(h.jsx)("div",{className:"my-auto",children:g?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"text-center simulador-titulo-detalle",children:"Detalle del Prestamo"}),Object(h.jsx)(f,{data:{tasa:W,plazo:U,montoSolicitado:M}}),Object(h.jsx)(N,{data:{tasa:W,plazo:U,montoSolicitado:M},visible:p,setVisible:I})]}):Object(h.jsx)("p",{})})]})},p=function(e){return Object(h.jsx)("div",{"data-testid":"Simulador",className:"container",children:Object(h.jsx)(E,{})})},I=a(5),_=(a(15),{text:"Loading..."}),S=function(e){var t=(e=Object(I.a)(Object(I.a)({},_),e)).text;return Object(h.jsx)("div",{className:"loader",children:t})},g=a(4),V=a.n(g),C=a(7);var L=function(){var e=function(e){var t=Object(s.useRef)(!0),a=Object(s.useState)({data:null,loading:!0,error:null}),n=Object(j.a)(a,2),l=n[0],i=n[1];return Object(s.useEffect)((function(){return function(){t.current=!1}}),[]),Object(s.useEffect)((function(){Object(C.a)(V.a.mark((function a(){var n;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(e);case 3:return a.next=5,a.sent.json();case 5:n=a.sent,t.current&&i({loading:!1,data:n,error:null}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),i({loading:!0,data:null,error:"No se pudo cargar la info"});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()}),[e]),l}(function(){var e=u,t=d,a=location.host,n=location.protocol+"//"+a+(location.href.includes("test")?"/test":"");return a.includes("localhost")&&(n=t),"".concat(n,"/").concat(e)}()),t=e.data;return e.loading?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h4",{className:"text-center",children:"Cargando Simulador ..."}),Object(h.jsx)(S,{})]}):Object(h.jsx)(O.Provider,{value:{tasaData:t},children:Object(h.jsx)(p,{})})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,18)).then((function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),l(e),i(e),s(e)}))};r.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(L,{})}),document.getElementById("root-simulador")),M()}},[[17,1,2]]]);
//# sourceMappingURL=main.c24cecc6.chunk.js.map