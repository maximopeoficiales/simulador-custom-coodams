{"version":3,"sources":["api/dto/data/credito.data.ts","config/config.ts","api/utils/numberWithComas.ts","context/TasaContext.ts","components/FormDetalle/FormDetalle.tsx","api/utils/getCuotaPrestamo.ts","components/ModalDetail/ModalDetail.tsx","components/FormSimulador/FormSimulador.tsx","api/utils/creditoFormated.ts","api/utils/addTasasData.ts","api/utils/roundByNumber.ts","api/utils/getTasaByAntiguedad.ts","components/Simulador/Simulador.tsx","components/ui/Spinner/Spinner.tsx","App.tsx","hooks/useFetch/useFetch.ts","api/utils/getUrlApi.ts","reportWebVitals.ts","index.tsx"],"names":["CreditoType","Antiguedad","config","creditoData","id","LIBRE_INVERSION","tasa","nombre","antiguedad","helpText","montoMax","plazos","VIVIENDA","VEHICULO","antiguedades","DE_12_36_MESES","DE_37_120_MESES","MAS_120_MESES","numberWithCommas","x","separator","parts","toString","split","replace","join","TasaContext","createContext","tasaData","FormDetalle","props","data","montoSolicitado","plazo","valorCuotaMensual","Math","round","prestamo","periodo","console","log","pow","getValorCuotaMensual","valorInteresMensual","getValorInteresMensual","className","toFixed","ModalDetail","visible","setVisible","classVisible","onClick","FormSimulador","useContext","useState","idSeleccionado","setIdSeleccionado","mostrarModal","setMostrarModal","mostrarDetalle","setMostrarDetalle","setMontoSolicitado","creditoNames","setCreditoNames","setPlazo","mostrarAntiguedad","setMostrarAntiguedad","setAntiguedad","setTasa","creditoSeleccionado","setCreditoSeleccionado","useEffect","creditoDataFormated","parseInt","sim_libre_inversion","filter","e","sim_vehiculo","sim_vivienda","creditoDataFilter","creditoData2","parseFloat","tasa_libre_inversion","tasa_vivienda","tasa_vehiculo_1","addTasasDataApi","creditoFilter","find","onChange","n","n2","montoMaximo","monto","target","value","round10000","ceil","Swal","fire","icon","title","text","type","min","max","htmlFor","idSelect","map","index","tasa_vehiculo_2","tasa_vehiculo_3","getTasaByAntiguedad","Simulador","defaultProps","Spinner","App","url","isMounted","useRef","loading","error","state","setState","current","a","fetch","json","useFetch","URL_GET_OPTIONS","URL_API_BASE","host","location","urlBase","protocol","href","includes","getUrlApi","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.164d246e.chunk.js","sourcesContent":["export enum CreditoType {\n    LIBRE_INVERSION = \"LIBRE_INVERSION\",\n    VIVIENDA = \"VIVIENDA\",\n    VEHICULO = \"VEHICULO\",\n    VEHICULO1 = \"VEHICULO1\",\n    VEHICULO2 = \"VEHICULO2\",\n    VEHICULO3 = \"VEHICULO3\",\n}\nexport enum Antiguedad {\n    DE_12_36_MESES = \"12 - 36 meses\",\n    DE_37_120_MESES = \"37 - 120 meses\",\n    MAS_120_MESES = \"MÃ¡s de 120 meses\"\n}\nexport interface CreditoData {\n    id: CreditoType;\n    tasa?: number;\n    antiguedad: string;\n    helpText: string;\n    nombre: string;\n    montoMax: number\n    plazos: number[];\n    antiguedades?: Antiguedad[]\n}\n\nexport const creditoData: CreditoData[] = [\n    {\n        id: CreditoType.LIBRE_INVERSION,\n        tasa: 1.6,\n        nombre: \"Libre InversÃ­on (especial)\",\n        antiguedad: \"\",\n        helpText: \"\",\n        montoMax: 5269451,\n        plazos: [18, 24],\n    },\n    {\n        id: CreditoType.VIVIENDA,\n        tasa: 1.3,\n        nombre: \"Vivienda\",\n        antiguedad: \"\",\n        helpText: \"Antiguedad minima de 12 meses\",\n        montoMax: 181705200,\n        plazos: [84, 96, 108, 120],\n    },\n    {\n        id: CreditoType.VEHICULO,\n        tasa: 1.3,\n        nombre: \"Vehiculo\",\n        antiguedad: \"12 - 36 meses\",\n        helpText: \"\",\n        montoMax: 45426300,\n        plazos: [12, 24, 36, 48, 60],\n        antiguedades: [Antiguedad.DE_12_36_MESES, Antiguedad.DE_37_120_MESES, Antiguedad.MAS_120_MESES]\n\n    },\n]","export const config = {\n    URL_API_BASE: \"http://localhost:97\",\n    URL_GET_OPTIONS: \"wp-json/simulador/v1/getOptions\"\n}","export const numberWithCommas = (x: number, separator: string = \",\"): string => {\n    var parts = x.toString().split(separator);\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, separator);\n    return parts.join(\",\");\n}","import { createContext } from 'react'\nimport { TasaData } from '../api/dto/tasa.dto';\n\ninterface TasaProvider {\n    tasaData: TasaData,\n}\n\nexport const TasaContext = createContext<TasaProvider>({ tasaData: {} });","import {\n  getValorCuotaMensual,\n  getValorInteresMensual,\n} from \"../../api/utils/getCuotaPrestamo\";\nimport { numberWithCommas } from \"../../api/utils/numberWithComas\";\n\ninterface MyProps {\n  data: { montoSolicitado: number; tasa: number; plazo: number };\n}\nconst FormDetalle = (props: MyProps) => {\n  const { montoSolicitado, plazo, tasa } = props.data;\n\n  let valorCuotaMensual = Math.round(\n    getValorCuotaMensual(montoSolicitado, plazo, tasa)\n  );\n\n  let valorInteresMensual = Math.round(\n    getValorInteresMensual(montoSolicitado, plazo, tasa)\n  );\n  return (\n    <div data-testid=\"FormDetalle\" className=\"\">\n      {/* <h1>FormDetalle component</h1> */}\n      <div className=\"d-flex justify-content-between my-2\">\n        <span>\n          <b className=\"simulador-color-valor\">Tasa de Interes</b>\n        </span>\n        <span>\n          <b className=\"simulador-color-valor\">{tasa.toFixed(2)} %</b>\n        </span>\n      </div>\n      <div className=\"d-flex justify-content-between my-2\">\n        <span>\n          <b className=\"simulador-color-valor\">Valor Cuota Mensual</b>\n        </span>\n        <span>\n          <b className=\"simulador-color-valor\">\n            ${numberWithCommas(valorCuotaMensual, \".\")}\n          </b>\n        </span>\n      </div>\n      <div className=\"d-flex justify-content-between my-2\">\n        <span>\n          <b>Valor Total Intereses</b>\n        </span>\n        <span>\n          <b>${numberWithCommas(valorInteresMensual, \".\")}</b>\n        </span>\n      </div>\n\n      <div className=\"mt-4\">\n        <span>\n          <b>Nota:</b>\n        </span>\n        <p className=\"my-0 text-muted simulador-text-muted\">\n          Si tienes la opciÃ³n de realizar abonos extras, consulta con un asesor\n          y revisa tu proyecciÃ³n\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default FormDetalle;\n","export const getValorCuotaMensual = (prestamo: number, periodo: number, tasa: number) => {\n    // let tasaMensual = (tasa / 100);\n    // let total = prestamo * (tasaMensual / (1 - Math.pow((1 + tasaMensual), -periodo)));\n    console.log(prestamo, periodo, tasa);\n\n    let total = (prestamo * tasa) / (100 * (1 - Math.pow((1 + (tasa / 100)), (periodo * -1))));\n\n    // let vlrTotalInts = (total * periodo) - prestamo;\n\n\n    return total;\n}\n\n\nexport const getValorInteresMensual = (prestamo: number, periodo: number, tasa: number) => {\n    console.log(prestamo, periodo, tasa);\n    let total = (prestamo * tasa) / (100 * (1 - Math.pow((1 + (tasa / 100)), (periodo * -1))));\n    let vlrTotalInts = (total * periodo) - prestamo;\n    return vlrTotalInts;\n}\n","import FormDetalle from \"../FormDetalle/FormDetalle\";\nimport \"./ModalDetail.css\";\n\ninterface MyProps {\n  data: { montoSolicitado: number; tasa: number; plazo: number };\n  visible: boolean;\n  setVisible: any;\n}\nconst ModalDetail = (props: MyProps) => {\n  const { data, visible, setVisible } = props;\n\n  let classVisible = visible ? \"is-visible\" : \"\";\n  const hidden = () => {\n    setVisible(\"\");\n  };\n  return (\n    <div>\n      <div className={`modal ${classVisible}`} data-animation=\"slideInOutLeft\">\n        <div className=\"modal-dialog\">\n          <header className=\"modal-header\">\n            <h3 className=\"my-0\">\n              <b className=\"simulador-titulo-detalle\">Detalle del Prestamo</b>\n            </h3>\n            <button\n              className=\"close-modal simulador-btn-hidden-modal\"\n              aria-label=\"close modal\"\n              data-close\n              onClick={hidden}\n            >\n              â\n            </button>\n          </header>\n          <section className=\"modal-content\">\n            <FormDetalle data={data} />\n          </section>\n          {/* <footer className=\"modal-footer\">\n            The footer of the first modal\n          </footer> */}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ModalDetail;\n","import { ChangeEvent, useContext, useEffect, useState } from \"react\";\nimport {\n  CreditoData,\n  creditoData,\n  CreditoType,\n} from \"../../api/dto/data/credito.data\";\nimport { addTasasDataApi } from \"../../api/utils/addTasasData\";\nimport { creditoDataFilter } from \"../../api/utils/creditoFormated\";\nimport { getTasaByAntiguedad } from \"../../api/utils/getTasaByAntiguedad\";\nimport { numberWithCommas } from \"../../api/utils/numberWithComas\";\nimport { roundByNumber } from \"../../api/utils/roundByNumber\";\nimport { TasaContext } from \"../../context/TasaContext\";\nimport FormDetalle from \"../FormDetalle/FormDetalle\";\nimport ModalDetail from \"../ModalDetail/ModalDetail\";\nimport Swal from \"sweetalert2\";\n\ninterface MyProps {}\nconst FormSimulador = (props: MyProps) => {\n  const { tasaData } = useContext(TasaContext);\n  // states\n  const [idSeleccionado, setIdSeleccionado] = useState<string>(\n    CreditoType.LIBRE_INVERSION\n  );\n  const [mostrarModal, setMostrarModal] = useState(false);\n  const [mostrarDetalle, setMostrarDetalle] = useState(false);\n  const [montoSolicitado, setMontoSolicitado] = useState(1);\n  const [creditoNames, setCreditoNames] = useState<CreditoData[]>([]);\n  const [plazo, setPlazo] = useState(18);\n  const [mostrarAntiguedad, setMostrarAntiguedad] = useState(false);\n  const [antiguedad, setAntiguedad] = useState(\"\");\n  const [tasa, setTasa] = useState(0);\n  const [creditoSeleccionado, setCreditoSeleccionado] = useState<\n    Partial<CreditoData>\n  >({});\n\n  // effects\n  useEffect(() => {\n    // obtengo opciones por defecto\n    const creditoDataFormated = creditoDataFilter(creditoData, tasaData);\n    setCreditoNames(creditoDataFormated);\n  }, [tasaData]);\n\n  useEffect(() => {\n    let creditoData2 = addTasasDataApi(creditoData, tasaData);\n    let creditoFilter = creditoData2.find((e) => e.id === idSeleccionado);\n\n    setTasa(creditoFilter?.tasa ?? 0);\n    setPlazo(creditoFilter?.plazos[0] ?? 0);\n    setCreditoSeleccionado(creditoFilter ?? {});\n  }, [idSeleccionado, tasaData]);\n\n  // events listener\n  const handleChangeRange = (e: ChangeEvent<HTMLInputElement>) => {\n    let montoMaximo = creditoSeleccionado?.montoMax ?? 1;\n    let monto = parseFloat(e.target.value);\n    let round10000 = roundByNumber(monto, 10000);\n    if (round10000 <= montoMaximo) {\n      setMontoSolicitado(round10000);\n    } else {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: \"Te haz pasado el limite de monto para este Tipo de Credito\",\n      });\n      setMontoSolicitado(0);\n    }\n  };\n\n  const handleChangePlazo = (e: ChangeEvent<HTMLSelectElement>) => {\n    setPlazo(parseInt(e.target.value));\n    setMostrarDetalle(false);\n  };\n\n  const handlerChangeSelectCredito = (e: ChangeEvent<HTMLSelectElement>) => {\n    setMontoSolicitado(0);\n    let idSelect = e.target.value;\n    setIdSeleccionado(idSelect);\n    setMostrarAntiguedad(idSelect === CreditoType.VEHICULO);\n    setMostrarDetalle(false);\n  };\n\n  const handleChangeAntiguedad = (e: ChangeEvent<HTMLSelectElement>) => {\n    let tasa = getTasaByAntiguedad(e.target.value, tasaData);\n    setTasa(tasa);\n    setAntiguedad(e.target.value);\n    setMostrarDetalle(false);\n  };\n\n  const calcularCredito = () => {\n    if (montoSolicitado !== 0) {\n      setMostrarDetalle(true);\n      setMostrarModal(true);\n    } else {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: \"No puedes hacer una prestamo con Monto: 0\",\n      });\n    }\n    // console.log(montoSolicitado, tasa, plazo);\n  };\n\n  return (\n    <div className=\"container-simulador\">\n      <div className=\"simulador-formulario\">\n        <div className=\"d-flex justify-content-between\">\n          <span>\n            <b className=\"simulador-titulo-formulario\">Monto Solicitado</b>\n          </span>\n\n          <span>\n            <b className=\"simulador-caja-monto\">\n              $ {numberWithCommas(montoSolicitado, \".\")}\n            </b>\n          </span>\n        </div>\n        {/* <div className=\"d-flex\">\n          <input\n            onChange={handleChangeRange}\n            type=\"number\"\n            className=\"w-100 my-2 simulador-input\"\n            min=\"0\"\n            step=\"0.01\"\n            max={creditoSeleccionado?.montoMax ?? 1}\n            value={montoSolicitado}\n          />\n        </div> */}\n        <div className=\"\">\n          <input\n            onChange={handleChangeRange}\n            type=\"range\"\n            className=\"w-100 range simulador-scroll-input  \"\n            min=\"0\"\n            max={creditoSeleccionado?.montoMax ?? 1}\n            value={montoSolicitado}\n          />\n          <small className=\"text-muted simulador-text-muted\">\n            Desliza para elegir el monto deseado de su prÃ©stamo\n          </small>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"idSelectCredito\" className=\"d-flex my-2\">\n            <b className=\"simulador-titulo-formulario\">CrÃ©dito</b>\n          </label>\n          <select\n            id=\"idSelectCredito\"\n            className=\"w-100 simulador-select\"\n            onChange={handlerChangeSelectCredito}\n            value={idSeleccionado}\n          >\n            {creditoNames.map((e) => (\n              <option key={e.id} value={e.id}>\n                {e.nombre}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"idSelectPlazo\" className=\"d-flex my-2\">\n            <b className=\"simulador-titulo-formulario\">Plazos / Cuotas</b>\n          </label>\n          <select\n            id=\"idSelectPlazo\"\n            className=\"w-100 simulador-select\"\n            onChange={handleChangePlazo}\n            value={plazo}\n          >\n            {creditoSeleccionado?.plazos?.map((e, index) => (\n              <option key={e} value={e}>\n                {e}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {mostrarAntiguedad && (\n          <div className=\"form-group\">\n            <label htmlFor=\"idSelectAntiguedad\" className=\"d-flex my-2\">\n              <b>Antiguedad</b>\n            </label>\n            <select\n              id=\"idSelectAntiguedad\"\n              className=\"w-100\"\n              onChange={handleChangeAntiguedad}\n              value={antiguedad}\n            >\n              {creditoSeleccionado?.antiguedades?.map((e, index) => (\n                <option key={e} value={e}>\n                  {e}\n                </option>\n              ))}\n            </select>\n            <small className=\"text-muted my-2 d-block\">\n              Selecciona la Antiguedad como asociado de la cooperativa\n            </small>\n          </div>\n        )}\n        <button\n          onClick={calcularCredito}\n          className=\"my-2 w-100 simulador-button\"\n        >\n          Calcular\n        </button>\n      </div>\n\n      <div className=\"my-auto\">\n        {mostrarDetalle ? (\n          <>\n            <h2 className=\"text-center\">Detalle del Prestamo</h2>\n            <FormDetalle data={{ tasa, plazo, montoSolicitado }} />\n            <ModalDetail\n              data={{ tasa, plazo, montoSolicitado }}\n              visible={mostrarModal}\n              setVisible={setMostrarModal}\n            />\n          </>\n        ) : (\n          <p>{/* <b>Una Imagen</b> */}</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FormSimulador;\n","import { CreditoData, CreditoType } from \"../dto/data/credito.data\"\nimport { TasaData } from \"../dto/tasa.dto\"\n\nexport const creditoDataFilter = (data: CreditoData[], tasaData: TasaData): CreditoData[] => {\n    if (!(parseInt(tasaData.sim_libre_inversion ?? \"\"))) {\n        data = data.filter(e => e.id !== CreditoType.LIBRE_INVERSION);\n    }\n\n    if (!(parseInt(tasaData.sim_vehiculo ?? \"\"))) {\n        data = data.filter(e => e.id !== CreditoType.VEHICULO);\n    }\n\n    if (!(parseInt(tasaData.sim_vivienda ?? \"\"))) {\n        data = data.filter(e => e.id !== CreditoType.VIVIENDA);\n    }\n    return data;\n}","import { CreditoData } from \"../dto/data/credito.data\";\nimport { TasaData } from \"../dto/tasa.dto\";\n\nexport const addTasasDataApi = (creditoData: CreditoData[], tasaData: TasaData) => {\n    creditoData[0].tasa = parseFloat(tasaData.tasa_libre_inversion?.toString() ?? \"1.6\");\n    creditoData[1].tasa = parseFloat(tasaData.tasa_vivienda?.toString() ?? \"1.3\");\n    creditoData[2].tasa = parseFloat(tasaData.tasa_vehiculo_1?.toString() ?? \"1.3\");\n    return creditoData;\n}","export const roundByNumber = (n: number, n2: number): number => {\n    return Math.ceil(n / n2) * n2\n\n}","import { Antiguedad } from \"../dto/data/credito.data\";\nimport { TasaData } from \"../dto/tasa.dto\";\n\nexport const getTasaByAntiguedad = (antiguedad: string, tasaData: TasaData): number => {\n    let tasa = 0;\n    switch (antiguedad) {\n        case Antiguedad.DE_12_36_MESES:\n            tasa = tasaData.tasa_vehiculo_1 ?? 1.3;\n            break;\n        case Antiguedad.DE_37_120_MESES:\n            tasa = tasaData.tasa_vehiculo_2 ?? 1.2;\n            break;\n        case Antiguedad.MAS_120_MESES:\n            tasa = tasaData.tasa_vehiculo_3 ?? 1.1;\n            break;\n        default:\n            break;\n    }\n\n    return tasa;\n}","import FormSimulador from \"../FormSimulador/FormSimulador\";\n\ninterface MyProps {}\nconst Simulador = (props: MyProps) => {\n  return (\n    <div data-testid=\"Simulador\" className=\"container\">\n      <FormSimulador />\n    </div>\n  );\n};\n\nexport default Simulador;\n","import \"./Spinner.css\";\ninterface MyProps {\n  text?: string;\n}\nconst defaultProps = {\n  text: \"Loading...\",\n};\nconst Spinner = (props: MyProps) => {\n  props = { ...defaultProps, ...props };\n  const { text } = props;\n  return <div className=\"loader\">{text}</div>;\n};\n\nexport default Spinner;\n","import { getUrlApi } from \"./api/utils/getUrlApi\";\nimport \"./App.css\";\nimport Simulador from \"./components/Simulador/Simulador\";\nimport Spinner from \"./components/ui/Spinner/Spinner\";\nimport { TasaContext } from \"./context/TasaContext\";\nimport { useFetch } from \"./hooks/useFetch/useFetch\";\n\nfunction App() {\n  const URL_API = getUrlApi();\n  const { data, loading } = useFetch(URL_API);\n\n  if (loading) {\n    return (\n      <>\n        <h4 className=\"text-center\">Cargando Simulador ...</h4>\n        <Spinner />\n      </>\n    );\n  }\n\n  return (\n    <TasaContext.Provider value={{ tasaData: data }}>\n      <Simulador />\n    </TasaContext.Provider>\n  );\n}\n\nexport default App;\n","import { useEffect, useRef, useState } from \"react\";\n\n\nexport interface UseFecthData {\n    data: any,\n    loading: boolean,\n    error: any\n}\nexport const useFetch = (url: string) => {\n    // uso de useRef\n    const isMounted = useRef(true);\n    const [state, setState] = useState<UseFecthData>(\n        {\n            data: null, loading: true, error: null\n        }\n    );\n\n    useEffect(() => {\n        // cuando se desmonte el componente la referencia estara en false\n        return () => {\n\n            isMounted.current = false\n        }\n    }, []);\n\n    useEffect(() => {\n        (async () => {\n            try {\n                let data = (await (await fetch(url)).json());\n                if (isMounted.current) {\n                    setState({ loading: false, data, error: null });\n                } else {\n                    // console.log(\"El useState no se esta ejecutando \");\n\n                }\n            } catch (error) {\n                setState({ loading: true, data: null, error: \"No se pudo cargar la info\" });\n            }\n\n        })()\n    }, [url])\n\n\n    return state;\n}\n","import { config } from \"../../config/config\";\n\nexport const getUrlApi = () => {\n    let { URL_GET_OPTIONS, URL_API_BASE } = config;\n    // eslint-disable-next-line no-restricted-globals\n    let host = location.host;\n    // eslint-disable-next-line no-restricted-globals\n    let protocol = location.protocol;\n    // eslint-disable-next-line no-restricted-globals\n    let existsInUrlTest = location.href.includes(\"test\");\n\n    let urlBase = protocol + \"//\" + host + (existsInUrlTest ? \"/test\" : \"\");\n\n    if (host.includes(\"localhost\")) {\n        urlBase = URL_API_BASE;\n    }\n\n    return `${urlBase}/${URL_GET_OPTIONS}`;\n    // return `http://localhost/${URL_GET_OPTIONS}`;\n}","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root-simulador\")\n);\n\n// If you want to start measuring pe+rformance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}